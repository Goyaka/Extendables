describe('Monkeypatches on Object', function () {
	it('gives quick access to objects\' keys and values', function () {
		var nation = {'name': 'Belgium', 'continent': 'Europe'}
		expect(nation.values()).toEqual(['Belgium', 'Europe']);
		expect(nation.keys()).toEqual(['name', 'continent']);		
	});

	it('can merge an object with another', function () {
		var nation = {'name': 'Belgium'}.merge({'continent': 'Europe'});
		expect(nation.has('continent')).toBeTruthy();		
	});

	it('can test whether an object has a value for a property', function () {
		var nation = {'name': 'Belgium', 'continent': ''};
		expect(nation.has('name')).toBeTruthy();	
		expect(nation.has('continent')).toBeFalsy();	
	});
});

describe('Monkeypatches on Array', function () {	
	it('has a number of already vetted methods, \
	courtesy of underscore.js and the Mozilla Developer Network', function () {
		/*
			these include: indexOf, lastIndexOf, every, filter, forEach, 
			map, some, reduce, reduceRight, select, reject and flatten
		*/
		expect(true).toBeTruthy();
	});

	it('has min and max methods that work on objects', function () {
		var array = [
			{'first': 'Abraham', 'last': 'Lincoln'},
			{'first': 'Joe', 'last': 'Pesci'},
			{'first': 'Zed', 'last': 'Alastair'}
			];
		function first (obj) {
			return obj.first;
		}
		function last (obj) {
			return obj.last;
		}
		expect(array.min(first).first).toEqual('Abraham');
		expect(array.max(first).first).toEqual('Zed');
		expect(array.min(last).first).toEqual('Zed');
		expect(array.max(last).first).toEqual('Joe');
	});
});

describe('Monkeypatches on String', function () {
	it('has a very simple string formatting method', function () {
		expect("hello {} {}!".format("mister", "Jones")).toEqual("hello mister Jones!");
	});
});

describe('Monkeypatches on Date', function () {
	it('has a simple timer', function () {
		Date.timer.set();
		$.sleep(100);
		var time_passed = Date.timer.get();
		var time_passed_s = Date.timer.get('s');
		expect(time_passed < 200).toBeTruthy();
		expect(time_passed_s < 1).toBeTruthy();
	});
});

describe('Monkeypatches on File and Folder', function () {
	var path = require("path");
	
	it('can join paths', function () {
		var joined_path = path.join("/one/two/", "/three/four", "five/six");
		expect(joined_path).toEqual("/one/two/three/four/five/six");
	});

	it('can return the directory name', function () {
		var dirname = path.dirname("/one/two/three.jsx");
		expect(dirname).toEqual("/one/two");
	});

	it('can return the base name (file name)', function () {
		var basename = path.basename("/one/two/three.jsx");
		expect(basename).toEqual("three.jsx");
	});

	it('can return the file extension', function () {
		var ext = path.extname("/one/two/three.jsx");
		expect(ext).toEqual(".jsx");
	});
});

/*
var file = new File("log/tests.framework.html");
var frm = file.from(Folder.extendables);
alert(frm.path);

alert(new File("/log/tests.framework.html").from(Folder.extendables).path)

var file = new File("fixtures/file.ext");
alert(file.component('basename'));
alert(file.component('extension'));
var file = new File("fixtures/file");
alert(file.component('basename'));
alert(file.component('extension'));
var file = new File("fixtures/.ext");
alert(file.component('basename'));
alert(file.component('extension'));
*/